<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd"[
<!ENTITY % myents SYSTEM "release-notes.ent" >
%myents;
]>


<section id="InfraPackArch.Power">
 <title>POWER (ppc64) Specific Information</title>

  <!-- bnc#495886 -->
  <section>
   <title>Supported Hardware and Systems</title>
   <para>CHECKIT:SLE11.3</para>
   <para>
    All POWER3, POWER4, PPC970 and RS64&ndash;based models that were supported by &sles;&nbsp;9 are no longer supported.
   </para>
  </section>

  <!-- https://bugzilla.novell.com/show_bug.cgi?id=812457 -->
  <section>
   <title>Using Btrfs as /root File System on IBM Power Systems</title>
   <para>CHECKIT:SLE11.3</para>
   <para>
    Configure a minimum of 32MB for the PReP partition when using btrfs as
    the <filename>/root</filename> file system.
   </para>
  </section>

  <!-- bnc#427960 -->
  <!-- bnc#756801 -->
  <section>
   <title>
    Loading the Installation Kernel via Network on POWER
   </title>
   <para>CHECKIT:SLE11.3</para>
   <para>
     With &sles;&nbsp;11 the bootfile <filename>DVD1/suseboot/inst64</filename>
     can not be
     booted directly via network anymore, because its size is larger
     than 12MB.  To load the installation kernel via network, copy the
     files <filename>yaboot.ibm</filename>, <filename>yaboot.cnf</filename>
     and <filename>inst64</filename> from the <filename>DVD1/suseboot</filename>
     directory to the TFTP server.
     Rename the <filename>yaboot.cnf</filename> file to
     <filename>yaboot.conf</filename>. yaboot can also load config files
     for specific Ethernet MAC addresses. Use a name like
     <filename>yaboot.conf-01-23-45-ab-cd-ef</filename> to match a MAC address.
     An example <filename>yaboot.conf</filename> for TFTP booting looks
     like this:
    </para>
    <screen>default=sles11
timeout=100
image[64-bit]=inst64
    label=sles11
    append="quiet install=nfs://hostname/exported/sles11dir"</screen>
  </section>

  <!-- bnc#448547 -->
  <!-- 2014-07-22: now via fate#317800 -->
  <!--
  <section>
   <title>
    Huge Page Memory Support on POWER
   </title>
   <para/>
  </section>
  -->

  <!-- bnc#431284 -->
  <section>
   <title>
    Installation on POWER onto IBM VSCSI Target
   </title>
   <para>CHECKIT:SLE11.3</para>
   <para>
    The installation on a vscsi client will fail with old versions of
    the AIX VIO server.
   </para>
   <para>
    Solution: Upgrade the AIX VIO server to version 1.5.2.1-FP-11.1 or
    later.
   </para>
  </section>


  <!-- bnc#433956 replaced by bnc#598902 -->
  <section>
   <title>IBM Linux VSCSI Server Support in &sles; 11</title>
   <para>CHECKIT:SLE11.3</para>
   <para>
    Customers using SLES 9 or SLES 10 to serve Virtual SCSI to other
    LPARs, using the ibmvscsis driver, who wish to migrate from these
    releases, should consider migrating to the IBM Virtual I/O server.
    The IBM Virtual I/O server supports all the IBM PowerVM virtual I/O
    features and also provides integration with the Virtual I/O
    management capabilities of the HMC.  It can be downloaded from:
    <ulink url="http://www14.software.ibm.com/webapp/set2/sas/f/vios/download/home.html"/>
   </para>
  </section>

  <!-- bnc#476471 -->
  <section>
   <title>
    Virtual Fibre Channel Devices
   </title>
   <para>CHECKIT:SLE11.3</para>
   <para>
    When using IBM Power Virtual Fibre Channel devices utilizing N-Port
    ID Virtualization, the Virtual I/O Server may need to be updated in
    order to function correctly. Linux requires VIOS 2.1, Fixpack 20.1,
    and the LinuxNPIV I-Fix for this feature to work properly.  These
    updates can be downloaded from:
    <ulink url="http://www14.software.ibm.com/webapp/set2/sas/f/vios/home.html"/>
   </para>
  </section>

  <!-- bnc#476385 replaced by bnc#598902 -->
  <!-- bnc#872172 (warning -->
  <!--
  <section>
   <title>Virtual Tape Devices</title>
   <para>CHECKIT:SLE11.3</para>
   <para>
    When using virtual tape devices served by an AIX VIO server, the
    Virtual I/O Server may need to be updated in order to function
    correctly. The latest updates can be downloaded from:
    <ulink url="http://www14.software.ibm.com/webapp/set2/sas/f/vios/home.html"/>
   </para>
   <para>
    For more information about IBM Virtual I/O Server, see
    <ulink url="http://www14.software.ibm.com/webapp/set2/sas/f/vios/documentation/home.html"/>.
   </para>
  </section>
  -->

  <!-- bnc#475566 bnc#473572 bnc#743336-->
  <!-- <listitem> -->
  <!--  <para>ITrace</para> -->

  <!-- bnc#476855 -->
  <section>
   <title>Chelsio cxgb3 iSCSI Offload Engine</title>
   <para>CHECKIT:SLE11.3</para>
   <para>
    The Chelsio hardware supports ~16K packet size (the exact value
    depends on the system configuration). It is recommended that you set
    the parameter <filename>MaxRecvDataSegmentLength</filename> in
    <filename>/etc/iscsid.conf</filename> to 8192.
   </para>
   <para>
    For the cxgb3i driver to work properly, this parameter needs to be
    set to 8192.
   </para>
   <para>
    In order to use the cxgb3i offload engine, the cxgb3i module needs
    to be loaded manually after open-scsi has been started.
   </para>
   <para>
    For additional information, refer to
    <filename>/usr/src/linux/Documentation/scsi/cxgb3i.txt</filename> in
    the kernel source tree.
   </para>
  </section>

  <!-- bnc#465601 -->
  <section>
   <title>Known TFTP Issues with Yaboot</title>
   <para>CHECKIT:SLE11.3</para>
   <para>When attempting to netboot yaboot, users may see the following error message:</para>
   <screen>Can't claim memory for TFTP download (01800000 @ 01800000-04200000)</screen>
   <para>and the netboot will stop and immediately display the yaboot "boot:" prompt.
 Use the following steps to work around the problem.</para>
 <itemizedlist>
  <listitem>
   <para>Reboot the system and at the IBM splash screen select '8' to
   get to an Open Firmware prompt "0&gt;"</para>
  </listitem>
  <listitem>
   <para>At the Open Firmware prompt, type the following commands:</para>
   <screen>setenv load-base 4000
setenv real-base c00000
dev /packages/gui obe
</screen>
  </listitem>
  <listitem>
   <para>The second command will take the system back to the IBM splash
   screen and the netboot can be attempted again.</para>
  </listitem>
 </itemizedlist>
  </section>


  <!-- bnc#585190 -->
  <!--
  <section>
   <title>Graphical Administration of Remotely Installed Hardware</title>
   <para>CHECKIT:SLE11.3</para>
   <para>If you do a remote installation in text mode, but want to
   connect to the machine later in graphical mode, be sure to set the
   default runlevel to 5 via YaST. Otherwise xdm/kdm/gdm might not be
   started.</para>
  </section>
  -->

  <!-- bnc#602954 -->
  <section>
   <title>InfiniBand - SDP Protocol Not Supported on IBM Hardware</title>
   <para>CHECKIT:SLE11.3</para>
   <para>To disable SDP on IBM hardware set <literal>SDP=no</literal> in
   openib.conf so that by default SDP is not loaded. After you have set
   this setting in openib.conf to 'no' run <command>openibd
   restart</command> or reboot the system for this setting to take
   effect.</para>
  </section>


  <!-- bnc#585361 -->
  <section>
   <title>RDMA NFS Server May Hang During Shutdown (OFED)</title>
   <para>CHECKIT:SLE11.3</para>
   <para>
    If your system is configured as an NFS over RDMA server, the system
    may hang during a shutdown if a remote system has an active NFS over
    RDMA mount. To avoid this problem, prior to shutting down the
    system, run "openibd stop"; run it in the background, because the
    command will hang and otherwise block the console:
   </para>
   <screen>/etc/init.d/openibd stop &amp;</screen>
   <para>
    A shutdown can now be run cleanly.
    <remark>emap: We just told the user to run the command in order to avoid the
  problem.</remark>
  <remark>ke: open bug to seek developer feedback.</remark>
  <remark>ke: I changed it for clarity.</remark>
   </para>
  
   <para>The steps to configure and start NFS over RDMA are as follows:</para>
   <itemizedlist>
    <listitem>
     <para>On the server system:</para>
     <orderedlist>
      <listitem>
       <para>Add an entry to the file <filename>/etc/exports</filename>, for example:</para>
       <screen>/home   192.168.0.34/255.255.255.0(fsid=0,rw,async,insecure,no_root_squash)</screen>
      </listitem>
      <listitem>
       <para>As the root user run the commands:</para>
       <screen>/etc/init.d/nfsserver start
echo rdma 20049 &gt; /proc/fs/nfsd/portlist</screen>
      </listitem>
     </orderedlist>
    </listitem>
    <listitem>
     <para>On the client system:</para>
     <orderedlist>
      <listitem>
       <para>Run the command:  <command>modprobe xprtrdma</command>.</para>
      </listitem>
      <listitem>
       <para>Mount the remote file system using the command
       <command>/sbin/mount.nfs</command>.  Specify the ip address of
       the ip-over-ib network interface (ib0, ib1...) of the server and
       the options: <option>proto=rdma,port=20049</option>, for
       example:</para>
       <screen>/sbin/mount.nfs 192.168.0.64:/home /mnt \
-o proto=rdma,port=20049,nolock</screen>
      </listitem>
     </orderedlist>
    </listitem>
   </itemizedlist>
  </section>

</section>
